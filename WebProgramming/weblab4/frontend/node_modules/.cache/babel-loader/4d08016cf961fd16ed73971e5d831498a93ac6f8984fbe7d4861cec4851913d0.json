{"ast":null,"code":"import entryAPI from 'api/entryAPI';\nimport { logout } from './auth';\nimport { setEntries, addEntry } from './table';\nconst SELECT_R = 'web-lab4/values/SELECT_R';\nconst SELECT_X = 'web-lab4/values/SELECT_X';\nconst CHANGE_Y = 'web-lab4/values/CHANGE_Y';\nconst CLEAR_CURRENT = 'web-lab4/values/CLEAR_CURRENT';\nconst initialState = {\n  rValues: [-3, -2.5, -2, -1.5, -1, -0.5, 0, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5],\n  rCurrent: 1,\n  xValues: [-3, -2.5, -2, -1.5, -1, -0.5, 0, 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5],\n  xCurrent: undefined,\n  yMin: -5,\n  yMax: 5,\n  yCurrent: undefined\n};\nexport default function valuesReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  switch (action.type) {\n    case SELECT_R:\n      return Object.assign({}, state, {\n        rCurrent: action.value.target.innerText\n      });\n    case SELECT_X:\n      if (!isNaN(action.value)) {\n        return Object.assign({}, state, {\n          xCurrent: action.value\n        });\n      } else {\n        return Object.assign({}, state, {\n          xCurrent: action.value.target.value\n        });\n      }\n    case CHANGE_Y:\n      return Object.assign({}, state, {\n        yCurrent: action.value\n      });\n    case CLEAR_CURRENT:\n      return Object.assign({}, state, {\n        rCurrent: 1,\n        xCurrent: undefined,\n        yCurrent: undefined\n      });\n    default:\n      return state;\n  }\n}\nexport function selectR(value) {\n  return {\n    type: SELECT_R,\n    value\n  };\n}\nexport function selectX(value) {\n  return {\n    type: SELECT_X,\n    value\n  };\n}\nexport function changeY(value) {\n  return {\n    type: CHANGE_Y,\n    value\n  };\n}\nexport function clearCurrent() {\n  return {\n    type: CLEAR_CURRENT\n  };\n}\nexport const checkEntry = () => (dispatch, getState) => {\n  entryAPI.checkEntry(getState().values.xCurrent, getState().values.yCurrent, getState().values.rCurrent, JSON.parse(localStorage.getItem('userWl4')).jwt).then(response => {\n    if (response.status === 200) {\n      dispatch(addEntry(response.data));\n    } else {\n      alert(`Непредвиденный ответ ${response.status} от сервера!`);\n    }\n  }).catch(error => {\n    if (error.response.status === 401) {\n      dispatch(logout());\n    } else {\n      alert(`Непредвиденный ответ ${error.response.status} от сервера!`);\n    }\n  });\n};\nexport const clearEntries = () => dispatch => {\n  entryAPI.clearEntries(JSON.parse(localStorage.getItem('userWl4')).jwt).then(response => {\n    if (response.status === 200) {\n      dispatch(setEntries([]));\n    } else {\n      alert(`Непредвиденный ответ ${response.status} от сервера!`);\n    }\n  }).catch(error => {\n    if (error.response.status === 401) {\n      dispatch(logout());\n    } else {\n      alert(`Непредвиденный ответ ${error.response.status} от сервера!`);\n    }\n  });\n  ;\n};","map":{"version":3,"names":["entryAPI","logout","setEntries","addEntry","SELECT_R","SELECT_X","CHANGE_Y","CLEAR_CURRENT","initialState","rValues","rCurrent","xValues","xCurrent","undefined","yMin","yMax","yCurrent","valuesReducer","state","action","type","Object","assign","value","target","innerText","isNaN","selectR","selectX","changeY","clearCurrent","checkEntry","dispatch","getState","values","JSON","parse","localStorage","getItem","jwt","then","response","status","data","alert","catch","error","clearEntries"],"sources":["C:/Users/DmitryCopyright/Desktop/web-lab4/frontend/src/redux/modules/values.js"],"sourcesContent":["import entryAPI from 'api/entryAPI';\nimport { logout } from './auth';\nimport { setEntries, addEntry } from './table';\n\nconst SELECT_R = 'web-lab4/values/SELECT_R';\nconst SELECT_X = 'web-lab4/values/SELECT_X';\nconst CHANGE_Y = 'web-lab4/values/CHANGE_Y';\nconst CLEAR_CURRENT = 'web-lab4/values/CLEAR_CURRENT';\n\nconst initialState = {\n  rValues: [-3, -2.5, -2, -1.5, -1, -0.5, 0, 0.5, 1, 1.5, 2, 2.5,3,3.5,4,4.5,5],\n  rCurrent: 1,\n  xValues: [-3, -2.5, -2, -1.5, -1, -0.5, 0, 0.5, 1, 1.5, 2, 2.5,3,3.5,4,4.5,5],\n  xCurrent: undefined,\n  yMin: -5,\n  yMax: 5,\n  yCurrent: undefined\n};\n\nexport default function valuesReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case SELECT_R:\n      return Object.assign(\n        {},\n        state,\n        {\n          rCurrent: action.value.target.innerText\n        }\n      );\n    case SELECT_X:\n      if (!isNaN(action.value))\n      {\n        return Object.assign(\n          {},\n          state,\n          {\n            xCurrent: action.value\n          }\n        );\n      } else {\n        return Object.assign(\n          {},\n          state,\n          {\n            xCurrent: action.value.target.value\n          }\n        );\n      }\n    case CHANGE_Y:\n      return Object.assign(\n        {},\n        state,\n        {\n          yCurrent: action.value\n        }\n      );\n    case CLEAR_CURRENT:\n      return Object.assign(\n        {},\n        state,\n        {\n          rCurrent: 1,\n          xCurrent: undefined,\n          yCurrent: undefined\n        }\n      );\n    default:\n      return state;\n  }\n}\n\nexport function selectR(value) {\n  return { type: SELECT_R, value };\n}\n\nexport function selectX(value) {\n  return { type: SELECT_X, value };\n}\n\nexport function changeY(value) {\n  return { type: CHANGE_Y, value };\n}\n\nexport function clearCurrent() {\n  return { type: CLEAR_CURRENT };\n}\n\nexport const checkEntry = () => (dispatch, getState) => {\n  entryAPI.checkEntry(\n    getState().values.xCurrent,\n    getState().values.yCurrent,\n    getState().values.rCurrent,\n    JSON.parse(localStorage.getItem('userWl4')).jwt)\n    .then(response => {\n      if (response.status === 200) {\n        dispatch(addEntry(response.data));\n      } else {\n        alert(`Непредвиденный ответ ${response.status} от сервера!`);\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        dispatch(logout());\n      } else {\n        alert(`Непредвиденный ответ ${error.response.status} от сервера!`);\n      }\n    });\n}\n\nexport const clearEntries = () => (dispatch) => {\n  entryAPI.clearEntries(JSON.parse(localStorage.getItem('userWl4')).jwt)\n    .then(response => {\n      if (response.status === 200) {\n        dispatch(setEntries([]));\n      } else {\n        alert(`Непредвиденный ответ ${response.status} от сервера!`);\n      }\n    })\n    .catch(error => {\n      if (error.response.status === 401) {\n        dispatch(logout());\n      } else {\n        alert(`Непредвиденный ответ ${error.response.status} от сервера!`);\n      }\n    });;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}